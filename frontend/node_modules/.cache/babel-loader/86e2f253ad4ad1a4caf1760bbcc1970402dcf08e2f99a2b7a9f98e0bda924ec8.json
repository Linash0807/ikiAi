{"ast":null,"code":"import _objectSpread from\"D:/pooja/projects/gen ai/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useCallback,useState}from'react';import{useDropzone}from'react-dropzone';import{Upload,X,FileText,Image}from'lucide-react';import{cn}from'../../utils/cn';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=_ref=>{let{onFileSelect,onFileRemove,acceptedFileTypes=['image/*','.pdf','.doc','.docx'],maxSize=5*1024*1024,// 5MB\nlabel,error,helperText,className,file,disabled=false}=_ref;const[dragActive,setDragActive]=useState(false);const onDrop=useCallback(acceptedFiles=>{if(acceptedFiles.length>0){onFileSelect(acceptedFiles[0]);}},[onFileSelect]);const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop,accept:acceptedFileTypes.reduce((acc,type)=>{acc[type]=[];return acc;},{}),maxSize,multiple:false,disabled});const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};const getFileIcon=fileName=>{if(fileName.match(/\\.(jpg|jpeg|png|gif|webp)$/i)){return/*#__PURE__*/_jsx(Image,{className:\"h-8 w-8 text-primary-600\"});}return/*#__PURE__*/_jsx(FileText,{className:\"h-8 w-8 text-primary-600\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[label&&/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700\",children:label}),file?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between rounded-lg border border-secondary-300 bg-secondary-50 px-4 py-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[getFileIcon(file.name),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-secondary-900\",children:file.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-secondary-500\",children:formatFileSize(file.size)})]})]}),onFileRemove&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onFileRemove,className:\"text-secondary-400 hover:text-secondary-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]}):/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{className:cn('relative cursor-pointer rounded-lg border-2 border-dashed p-6 text-center transition-colors',isDragActive||dragActive?'border-primary-400 bg-primary-50':'border-secondary-300 hover:border-primary-400',error&&'border-error-300',disabled&&'cursor-not-allowed opacity-50',className),onDragEnter:()=>setDragActive(true),onDragLeave:()=>setDragActive(false),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(Upload,{className:\"mx-auto h-8 w-8 text-secondary-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-secondary-600\",children:isDragActive?'Drop the file here':'Click to upload or drag and drop'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-secondary-500\",children:[\"Max size: \",formatFileSize(maxSize)]})]})),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-error-600\",children:error}),helperText&&!error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-500\",children:helperText})]});};export default FileUpload;","map":{"version":3,"names":["React","useCallback","useState","useDropzone","Upload","X","FileText","Image","cn","jsx","_jsx","jsxs","_jsxs","FileUpload","_ref","onFileSelect","onFileRemove","acceptedFileTypes","maxSize","label","error","helperText","className","file","disabled","dragActive","setDragActive","onDrop","acceptedFiles","length","getRootProps","getInputProps","isDragActive","accept","reduce","acc","type","multiple","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","getFileIcon","fileName","match","children","name","size","onClick","_objectSpread","onDragEnter","onDragLeave"],"sources":["D:/pooja/projects/gen ai/frontend/src/components/ui/FileUpload.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { Upload, X, FileText, Image } from 'lucide-react';\r\nimport { cn } from '../../utils/cn';\r\n\r\ninterface FileUploadProps {\r\n  onFileSelect: (file: File) => void;\r\n  onFileRemove?: () => void;\r\n  acceptedFileTypes?: string[];\r\n  maxSize?: number;\r\n  label?: string;\r\n  error?: string;\r\n  helperText?: string;\r\n  className?: string;\r\n  file?: File | null;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst FileUpload: React.FC<FileUploadProps> = ({\r\n  onFileSelect,\r\n  onFileRemove,\r\n  acceptedFileTypes = ['image/*', '.pdf', '.doc', '.docx'],\r\n  maxSize = 5 * 1024 * 1024, // 5MB\r\n  label,\r\n  error,\r\n  helperText,\r\n  className,\r\n  file,\r\n  disabled = false,\r\n}) => {\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  const onDrop = useCallback((acceptedFiles: File[]) => {\r\n    if (acceptedFiles.length > 0) {\r\n      onFileSelect(acceptedFiles[0]);\r\n    }\r\n  }, [onFileSelect]);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: acceptedFileTypes.reduce((acc, type) => {\r\n      acc[type] = [];\r\n      return acc;\r\n    }, {} as Record<string, string[]>),\r\n    maxSize,\r\n    multiple: false,\r\n    disabled,\r\n  });\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getFileIcon = (fileName: string) => {\r\n    if (fileName.match(/\\.(jpg|jpeg|png|gif|webp)$/i)) {\r\n      return <Image className=\"h-8 w-8 text-primary-600\" />;\r\n    }\r\n    return <FileText className=\"h-8 w-8 text-primary-600\" />;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      {label && (\r\n        <label className=\"block text-sm font-medium text-secondary-700\">\r\n          {label}\r\n        </label>\r\n      )}\r\n      \r\n      {file ? (\r\n        <div className=\"flex items-center justify-between rounded-lg border border-secondary-300 bg-secondary-50 px-4 py-3\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            {getFileIcon(file.name)}\r\n            <div>\r\n              <p className=\"text-sm font-medium text-secondary-900\">{file.name}</p>\r\n              <p className=\"text-xs text-secondary-500\">{formatFileSize(file.size)}</p>\r\n            </div>\r\n          </div>\r\n          {onFileRemove && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={onFileRemove}\r\n              className=\"text-secondary-400 hover:text-secondary-600\"\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div\r\n          {...getRootProps()}\r\n          className={cn(\r\n            'relative cursor-pointer rounded-lg border-2 border-dashed p-6 text-center transition-colors',\r\n            isDragActive || dragActive\r\n              ? 'border-primary-400 bg-primary-50'\r\n              : 'border-secondary-300 hover:border-primary-400',\r\n            error && 'border-error-300',\r\n            disabled && 'cursor-not-allowed opacity-50',\r\n            className\r\n          )}\r\n          onDragEnter={() => setDragActive(true)}\r\n          onDragLeave={() => setDragActive(false)}\r\n        >\r\n          <input {...getInputProps()} />\r\n          <Upload className=\"mx-auto h-8 w-8 text-secondary-400\" />\r\n          <p className=\"mt-2 text-sm text-secondary-600\">\r\n            {isDragActive ? 'Drop the file here' : 'Click to upload or drag and drop'}\r\n          </p>\r\n          <p className=\"text-xs text-secondary-500\">\r\n            Max size: {formatFileSize(maxSize)}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <p className=\"text-sm text-error-600\">{error}</p>\r\n      )}\r\n      {helperText && !error && (\r\n        <p className=\"text-sm text-secondary-500\">{helperText}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}