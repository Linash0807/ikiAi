{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { apiClient } from '../services/api';\n\n// Custom hook to initialize API client with auth token\nexport const useApi = () => {\n  _s();\n  const {\n    getIdToken\n  } = useAuth();\n  useEffect(() => {\n    apiClient.setTokenGetter(getIdToken);\n  }, [getIdToken]);\n  return apiClient;\n};\n\n// Generic hook for API calls with loading and error states\n_s(useApi, \"b8dkWTCe1vom8p9bs1Qg/el63J0=\", false, function () {\n  return [useAuth];\n});\nexport const useApiCall = (apiCall, dependencies = []) => {\n  _s2();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const execute = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const result = await apiCall();\n      setData(result);\n      return result;\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message || 'An error occurred';\n      setError(errorMessage);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (dependencies.length > 0) {\n      execute();\n    }\n  }, dependencies);\n  return {\n    data,\n    loading,\n    error,\n    execute\n  };\n};\n_s2(useApiCall, \"v5inua6mCP5CN8A+E7ULWpnNGvM=\");","map":{"version":3,"names":["useState","useEffect","useAuth","apiClient","useApi","_s","getIdToken","setTokenGetter","useApiCall","apiCall","dependencies","_s2","data","setData","loading","setLoading","error","setError","execute","result","err","_err$response","_err$response$data","errorMessage","response","message","length"],"sources":["D:/pooja/projects/gen ai/frontend/src/hooks/useApi.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { apiClient } from '../services/api';\r\n\r\n// Custom hook to initialize API client with auth token\r\nexport const useApi = () => {\r\n  const { getIdToken } = useAuth();\r\n\r\n  useEffect(() => {\r\n    apiClient.setTokenGetter(getIdToken);\r\n  }, [getIdToken]);\r\n\r\n  return apiClient;\r\n};\r\n\r\n// Generic hook for API calls with loading and error states\r\nexport const useApiCall = <T>(\r\n  apiCall: () => Promise<T>,\r\n  dependencies: any[] = []\r\n) => {\r\n  const [data, setData] = useState<T | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const execute = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const result = await apiCall();\r\n      setData(result);\r\n      return result;\r\n    } catch (err: any) {\r\n      const errorMessage = err.response?.data?.error || err.message || 'An error occurred';\r\n      setError(errorMessage);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (dependencies.length > 0) {\r\n      execute();\r\n    }\r\n  }, dependencies);\r\n\r\n  return { data, loading, error, execute };\r\n};\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC;EAAW,CAAC,GAAGJ,OAAO,CAAC,CAAC;EAEhCD,SAAS,CAAC,MAAM;IACdE,SAAS,CAACI,cAAc,CAACD,UAAU,CAAC;EACtC,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB,OAAOH,SAAS;AAClB,CAAC;;AAED;AAAAE,EAAA,CAVaD,MAAM;EAAA,QACMF,OAAO;AAAA;AAUhC,OAAO,MAAMM,UAAU,GAAGA,CACxBC,OAAyB,EACzBC,YAAmB,GAAG,EAAE,KACrB;EAAAC,GAAA;EACH,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAW,IAAI,CAAC;EAChD,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAMkB,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACFH,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,MAAME,MAAM,GAAG,MAAMV,OAAO,CAAC,CAAC;MAC9BI,OAAO,CAACM,MAAM,CAAC;MACf,OAAOA,MAAM;IACf,CAAC,CAAC,OAAOC,GAAQ,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACjB,MAAMC,YAAY,GAAG,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcT,IAAI,cAAAU,kBAAA,uBAAlBA,kBAAA,CAAoBN,KAAK,KAAII,GAAG,CAACK,OAAO,IAAI,mBAAmB;MACpFR,QAAQ,CAACM,YAAY,CAAC;MACtB,MAAMH,GAAG;IACX,CAAC,SAAS;MACRL,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDd,SAAS,CAAC,MAAM;IACd,IAAIS,YAAY,CAACgB,MAAM,GAAG,CAAC,EAAE;MAC3BR,OAAO,CAAC,CAAC;IACX;EACF,CAAC,EAAER,YAAY,CAAC;EAEhB,OAAO;IAAEE,IAAI;IAAEE,OAAO;IAAEE,KAAK;IAAEE;EAAQ,CAAC;AAC1C,CAAC;AAACP,GAAA,CA/BWH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}