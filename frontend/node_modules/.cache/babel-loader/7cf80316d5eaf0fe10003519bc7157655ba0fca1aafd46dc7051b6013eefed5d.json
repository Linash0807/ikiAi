{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useApi}from'../hooks/useApi';import Button from'../components/ui/Button';import LoadingSpinner from'../components/ui/LoadingSpinner';import{MessageSquare,Plus,Send,Bot,User,Clock,MoreVertical}from'lucide-react';import ReactMarkdown from'react-markdown';import remarkGfm from'remark-gfm';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Chat=()=>{const api=useApi();const[sessions,setSessions]=useState([]);const[currentSession,setCurrentSession]=useState(null);const[messages,setMessages]=useState([]);const[loading,setLoading]=useState(true);const[sendingMessage,setSendingMessage]=useState(false);const[newMessage,setNewMessage]=useState('');const messagesEndRef=useRef(null);useEffect(()=>{loadSessions();},[]);useEffect(()=>{if(currentSession){loadSessionMessages(currentSession.id);}},[currentSession]);useEffect(()=>{scrollToBottom();},[messages]);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};const loadSessions=async()=>{try{setLoading(true);const sessionsData=await api.getChatSessions();setSessions(sessionsData);if(sessionsData.length>0&&!currentSession){setCurrentSession(sessionsData[0]);}}catch(error){toast.error('Failed to load chat sessions');}finally{setLoading(false);}};const loadSessionMessages=async sessionId=>{try{const messagesData=await api.getChatSession(sessionId);setMessages(messagesData);}catch(error){toast.error('Failed to load messages');}};const createNewSession=async()=>{try{const response=await api.createChatSession();const newSession={id:response.sessionId,title:'New Chat',createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),messageCount:0};setSessions([newSession,...sessions]);setCurrentSession(newSession);setMessages([]);toast.success('New chat session created');}catch(error){toast.error('Failed to create new session');}};const sendMessage=async()=>{if(!newMessage.trim()||!currentSession)return;const userMessage={role:'user',content:newMessage.trim(),createdAt:new Date().toISOString()};setMessages(prev=>[...prev,userMessage]);setNewMessage('');setSendingMessage(true);try{const response=await api.sendChatMessage(currentSession.id,{content:userMessage.content});setMessages(prev=>[...prev,response.reply]);}catch(error){toast.error('Failed to send message');setMessages(prev=>prev.slice(0,-1));// Remove the user message on error\n}finally{setSendingMessage(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};const formatDate=dateString=>{const date=new Date(dateString);const now=new Date();const diffInHours=(now.getTime()-date.getTime())/(1000*60*60);if(diffInHours<24){return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});}else if(diffInHours<168){// 7 days\nreturn date.toLocaleDateString([],{weekday:'short',hour:'2-digit',minute:'2-digit'});}else{return date.toLocaleDateString();}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-[calc(100vh-200px)] flex bg-white rounded-lg shadow-sm border border-secondary-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 border-r border-secondary-200 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-secondary-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-secondary-900\",children:\"Chat Sessions\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:createNewSession,children:/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:sessions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 text-center text-secondary-500\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"h-8 w-8 mx-auto mb-2 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No chat sessions yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1\",children:\"Start a new conversation\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 p-2\",children:sessions.map(session=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentSession(session),className:\"w-full text-left p-3 rounded-lg transition-colors \".concat((currentSession===null||currentSession===void 0?void 0:currentSession.id)===session.id?'bg-primary-50 border border-primary-200':'hover:bg-secondary-50'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-secondary-900 truncate\",children:session.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-xs text-secondary-500 mt-1\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(session.updatedAt)}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[session.messageCount,\" messages\"]})]})]}),/*#__PURE__*/_jsx(MoreVertical,{className:\"h-4 w-4 text-secondary-400 opacity-0 group-hover:opacity-100\"})]})},session.id))})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col\",children:currentSession?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-secondary-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Bot,{className:\"h-4 w-4 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-secondary-900\",children:currentSession.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-secondary-500\",children:[\"AI Career Assistant \\u2022 \",messages.length,\" messages\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:[messages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"h-12 w-12 text-secondary-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-secondary-900 mb-2\",children:\"Start a conversation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600\",children:\"Ask me anything about your career, skills, or job search!\"})]})}):messages.map((message,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.role==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl \".concat(message.role==='user'?'bg-primary-600 text-white':'bg-secondary-100 text-secondary-900',\" rounded-lg p-4\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[message.role==='ai'&&/*#__PURE__*/_jsx(Bot,{className:\"h-4 w-4 mt-1 flex-shrink-0\"}),message.role==='user'&&/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:message.role==='ai'?/*#__PURE__*/_jsx(ReactMarkdown,{remarkPlugins:[remarkGfm],className:\"prose prose-sm max-w-none\",children:message.content}):/*#__PURE__*/_jsx(\"p\",{className:\"whitespace-pre-wrap\",children:message.content})})]}),message.createdAt&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs opacity-70 mt-2\",children:formatDate(message.createdAt)})]})},index)),sendingMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-secondary-100 text-secondary-900 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Bot,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"AI is thinking...\"})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-secondary-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"textarea\",{value:newMessage,onChange:e=>setNewMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask me anything about your career...\",className:\"w-full rounded-lg border border-secondary-300 px-3 py-2 text-sm placeholder-secondary-400 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 resize-none\",rows:2,disabled:sendingMessage})}),/*#__PURE__*/_jsx(Button,{onClick:sendMessage,disabled:!newMessage.trim()||sendingMessage,loading:sendingMessage,children:/*#__PURE__*/_jsx(Send,{className:\"h-4 w-4\"})})]})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"h-12 w-12 text-secondary-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-secondary-900 mb-2\",children:\"Select a chat session\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600 mb-6\",children:\"Choose an existing conversation or start a new one\"}),/*#__PURE__*/_jsxs(Button,{onClick:createNewSession,children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Start New Chat\"]})]})})})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useApi","Button","LoadingSpinner","MessageSquare","Plus","Send","Bot","User","Clock","MoreVertical","ReactMarkdown","remarkGfm","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Chat","api","sessions","setSessions","currentSession","setCurrentSession","messages","setMessages","loading","setLoading","sendingMessage","setSendingMessage","newMessage","setNewMessage","messagesEndRef","loadSessions","loadSessionMessages","id","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","sessionsData","getChatSessions","length","error","sessionId","messagesData","getChatSession","createNewSession","response","createChatSession","newSession","title","createdAt","Date","toISOString","updatedAt","messageCount","success","sendMessage","trim","userMessage","role","content","prev","sendChatMessage","reply","slice","handleKeyPress","e","key","shiftKey","preventDefault","formatDate","dateString","date","now","diffInHours","getTime","toLocaleTimeString","hour","minute","toLocaleDateString","weekday","className","children","size","onClick","map","session","concat","message","index","remarkPlugins","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled"],"sources":["D:/pooja/projects/gen ai/frontend/src/pages/Chat.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useApi } from '../hooks/useApi';\r\nimport { ChatSession, ChatMessage, ChatInput } from '../types';\r\nimport Button from '../components/ui/Button';\r\nimport Input from '../components/ui/Input';\r\nimport { Card, CardHeader, CardContent } from '../components/ui/Card';\r\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\r\nimport { \r\n  MessageSquare, \r\n  Plus, \r\n  Send, \r\n  Bot, \r\n  User,\r\n  Calendar,\r\n  Clock,\r\n  Trash2,\r\n  MoreVertical\r\n} from 'lucide-react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Chat: React.FC = () => {\r\n  const api = useApi();\r\n  const [sessions, setSessions] = useState<ChatSession[]>([]);\r\n  const [currentSession, setCurrentSession] = useState<ChatSession | null>(null);\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [sendingMessage, setSendingMessage] = useState(false);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    loadSessions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentSession) {\r\n      loadSessionMessages(currentSession.id);\r\n    }\r\n  }, [currentSession]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const loadSessions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const sessionsData = await api.getChatSessions();\r\n      setSessions(sessionsData);\r\n      if (sessionsData.length > 0 && !currentSession) {\r\n        setCurrentSession(sessionsData[0]);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to load chat sessions');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadSessionMessages = async (sessionId: string) => {\r\n    try {\r\n      const messagesData = await api.getChatSession(sessionId);\r\n      setMessages(messagesData);\r\n    } catch (error) {\r\n      toast.error('Failed to load messages');\r\n    }\r\n  };\r\n\r\n  const createNewSession = async () => {\r\n    try {\r\n      const response = await api.createChatSession();\r\n      const newSession: ChatSession = {\r\n        id: response.sessionId,\r\n        title: 'New Chat',\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n        messageCount: 0,\r\n      };\r\n      setSessions([newSession, ...sessions]);\r\n      setCurrentSession(newSession);\r\n      setMessages([]);\r\n      toast.success('New chat session created');\r\n    } catch (error) {\r\n      toast.error('Failed to create new session');\r\n    }\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!newMessage.trim() || !currentSession) return;\r\n\r\n    const userMessage: ChatMessage = {\r\n      role: 'user',\r\n      content: newMessage.trim(),\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setNewMessage('');\r\n    setSendingMessage(true);\r\n\r\n    try {\r\n      const response = await api.sendChatMessage(currentSession.id, { content: userMessage.content });\r\n      setMessages(prev => [...prev, response.reply]);\r\n    } catch (error) {\r\n      toast.error('Failed to send message');\r\n      setMessages(prev => prev.slice(0, -1)); // Remove the user message on error\r\n    } finally {\r\n      setSendingMessage(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInHours = (now.getTime() - date.getTime()) / (1000 * 60 * 60);\r\n\r\n    if (diffInHours < 24) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInHours < 168) { // 7 days\r\n      return date.toLocaleDateString([], { weekday: 'short', hour: '2-digit', minute: '2-digit' });\r\n    } else {\r\n      return date.toLocaleDateString();\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-[calc(100vh-200px)] flex bg-white rounded-lg shadow-sm border border-secondary-200\">\r\n      {/* Sidebar */}\r\n      <div className=\"w-80 border-r border-secondary-200 flex flex-col\">\r\n        <div className=\"p-4 border-b border-secondary-200\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h2 className=\"text-lg font-semibold text-secondary-900\">Chat Sessions</h2>\r\n            <Button size=\"sm\" onClick={createNewSession}>\r\n              <Plus className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {sessions.length === 0 ? (\r\n            <div className=\"p-4 text-center text-secondary-500\">\r\n              <MessageSquare className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n              <p className=\"text-sm\">No chat sessions yet</p>\r\n              <p className=\"text-xs mt-1\">Start a new conversation</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-1 p-2\">\r\n              {sessions.map((session) => (\r\n                <button\r\n                  key={session.id}\r\n                  onClick={() => setCurrentSession(session)}\r\n                  className={`w-full text-left p-3 rounded-lg transition-colors ${\r\n                    currentSession?.id === session.id\r\n                      ? 'bg-primary-50 border border-primary-200'\r\n                      : 'hover:bg-secondary-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h3 className=\"font-medium text-secondary-900 truncate\">\r\n                        {session.title}\r\n                      </h3>\r\n                      <div className=\"flex items-center space-x-2 text-xs text-secondary-500 mt-1\">\r\n                        <Clock className=\"h-3 w-3\" />\r\n                        <span>{formatDate(session.updatedAt)}</span>\r\n                        <span>•</span>\r\n                        <span>{session.messageCount} messages</span>\r\n                      </div>\r\n                    </div>\r\n                    <MoreVertical className=\"h-4 w-4 text-secondary-400 opacity-0 group-hover:opacity-100\" />\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Area */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {currentSession ? (\r\n          <>\r\n            {/* Chat Header */}\r\n            <div className=\"p-4 border-b border-secondary-200\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\">\r\n                  <Bot className=\"h-4 w-4 text-primary-600\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"font-medium text-secondary-900\">{currentSession.title}</h3>\r\n                  <p className=\"text-sm text-secondary-500\">\r\n                    AI Career Assistant • {messages.length} messages\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n              {messages.length === 0 ? (\r\n                <div className=\"flex items-center justify-center h-full\">\r\n                  <div className=\"text-center\">\r\n                    <MessageSquare className=\"h-12 w-12 text-secondary-400 mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-medium text-secondary-900 mb-2\">\r\n                      Start a conversation\r\n                    </h3>\r\n                    <p className=\"text-secondary-600\">\r\n                      Ask me anything about your career, skills, or job search!\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                messages.map((message, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\r\n                  >\r\n                    <div\r\n                      className={`max-w-3xl ${\r\n                        message.role === 'user'\r\n                          ? 'bg-primary-600 text-white'\r\n                          : 'bg-secondary-100 text-secondary-900'\r\n                      } rounded-lg p-4`}\r\n                    >\r\n                      <div className=\"flex items-start space-x-2\">\r\n                        {message.role === 'ai' && (\r\n                          <Bot className=\"h-4 w-4 mt-1 flex-shrink-0\" />\r\n                        )}\r\n                        {message.role === 'user' && (\r\n                          <User className=\"h-4 w-4 mt-1 flex-shrink-0\" />\r\n                        )}\r\n                        <div className=\"flex-1\">\r\n                          {message.role === 'ai' ? (\r\n                            <ReactMarkdown\r\n                              remarkPlugins={[remarkGfm]}\r\n                              className=\"prose prose-sm max-w-none\"\r\n                            >\r\n                              {message.content}\r\n                            </ReactMarkdown>\r\n                          ) : (\r\n                            <p className=\"whitespace-pre-wrap\">{message.content}</p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      {message.createdAt && (\r\n                        <div className=\"text-xs opacity-70 mt-2\">\r\n                          {formatDate(message.createdAt)}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n              {sendingMessage && (\r\n                <div className=\"flex justify-start\">\r\n                  <div className=\"bg-secondary-100 text-secondary-900 rounded-lg p-4\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <Bot className=\"h-4 w-4\" />\r\n                      <LoadingSpinner size=\"sm\" />\r\n                      <span className=\"text-sm\">AI is thinking...</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Message Input */}\r\n            <div className=\"p-4 border-t border-secondary-200\">\r\n              <div className=\"flex space-x-4\">\r\n                <div className=\"flex-1\">\r\n                  <textarea\r\n                    value={newMessage}\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    onKeyPress={handleKeyPress}\r\n                    placeholder=\"Ask me anything about your career...\"\r\n                    className=\"w-full rounded-lg border border-secondary-300 px-3 py-2 text-sm placeholder-secondary-400 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 resize-none\"\r\n                    rows={2}\r\n                    disabled={sendingMessage}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  onClick={sendMessage}\r\n                  disabled={!newMessage.trim() || sendingMessage}\r\n                  loading={sendingMessage}\r\n                >\r\n                  <Send className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"flex-1 flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n              <MessageSquare className=\"h-12 w-12 text-secondary-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-secondary-900 mb-2\">\r\n                Select a chat session\r\n              </h3>\r\n              <p className=\"text-secondary-600 mb-6\">\r\n                Choose an existing conversation or start a new one\r\n              </p>\r\n              <Button onClick={createNewSession}>\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                Start New Chat\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}